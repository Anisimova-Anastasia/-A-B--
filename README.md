#  Анализ A/B-теста новой платежной механики

 В данном проекте проведен анализ результатов A/B-тестирования новой системы оплаты на платформе. Исследование направлено на оценку эффективности изменений и принятие решения о масштабировании новой механики на всех пользователей.

##  Исходные данные

###  Описание таблиц и полей

#### Таблица `groups` (группы пользователей)
- `id` — уникальный идентификатор пользователя
- `grp` — принадлежность к группе:
  - **A** — контрольная группа (базовая механика оплаты)
  - **B** — тестовая группа (новая механика оплаты)

#### Таблица `active_studs` (активные пользователи)
- `student_id` — ID пользователей, заходивших на платформу в дни эксперимента

#### Таблица `checks` (оплаты)
- `student_id` — ID пользователя
- `rev` — сумма оплаты

##  Цели исследования
1.  Оценить влияние новой платежной механики на ключевые бизнес-метрики
2.  Определить статистическую значимость различий между группами
3.  Дать рекомендации по внедрению изменений

##  Основные задачи
-  **Расчет ключевых метрик**:
  - Конверсия в оплату (CR)
  - Средний доход с платящего пользователя (ARPPU)
  - Медианный чек

-  **Статистический анализ**:
  - Проверка нормальности распределения (тест Шапиро-Уилка)
  - Проверка равенства дисперсий (тест Левена)
  - t-критерий Стьюдента для независимых выборок

-  **Визуализация результатов**:
  - Распределение платежей
  - Сравнение метрик между группами

##  Библиотеки и инструменты
- <code>Python</code> — основной язык программирования
- <code>Pandas</code> — обработка и анализ данных
- <code>NumPy</code> — математические операции
- <code>Matplotlib/Seaborn</code> — визуализация данных
- <code>Pingouin</code> — статистические тесты
- <code>Jupyter Notebook</code> — среда выполнения анализа

##  Реализация проекта
1.  Проведен предварительный анализ данных (проверка качества данных, аномалий).
2.  Расчет метрик для каждой группы:
   - *Конверсия* = (число оплативших)/(число активных пользователей)
   - *ARPPU* = средняя сумма оплаты
   - *Медианный чек*

3.  Проверка статистических гипотез:
   - Нормальность распределения (тест Шапиро-Уилка)
   - Равенство дисперсий (тест Левена)
   - Сравнение средних (t-тест)

4.  Визуализация:
   - Гистограммы распределений
   - Боксплоты для сравнения групп
   - Столбчатые диаграммы метрик

##  Результаты
1. **Конверсия в оплату**:
   -  Группа A: **5.07%** 
   -  Группа B: **4.10%**
   -  Различия *не статистически значимы* (p-value = 0.089)

2. **Средний чек (ARPPU)**:
   -  Группа A: **933.59**
   -  Группа B: **1177.33** (+26%)
   -  Различия *статистически значимы* (p-value = 0.022)

3. **Медианный чек**:
   -  Группа A: **585.0**
   -  Группа B: **990.0** (+69%)

##  Вывод
 Новая механика:
-  Увеличила средний чек на 26%, а медианный — на 69%
-  Не оказала значимого влияния на конверсию
-  Эффект имеет малый размер (Cohen's d = 0.29)

**Рекомендация**: 
1.  Провести дополнительное исследование причин снижения конверсии
2.  Увеличить период тестирования для оценки долгосрочного эффекта
3.  Рассмотреть возможность постепенного внедрения с мониторингом метрик
